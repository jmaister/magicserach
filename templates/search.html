<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Magic Search</title>

    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/pure-min.css" integrity="sha384-oAOxQR6DkCoMliIh8yFnu25d7Eq/PHS21PClpwjOTeU2jRSq11vu66rf90/cZr47" crossorigin="anonymous">
</head>
<body>
    <h1>MagicSearch Search</h1>

    <h2>Search form</h2>
    <form method="POST" action="/search" >
      <div>Name (partial): <input name="cardname" placeholder="Card name" value="{{ request.form['cardname'] }}" /> </div>
      <div>Label: <select name="label">
        <option value="" {% if request.form['label'] == '' %} selected="selected"{% endif %}> - empty -</option>
        <option value="ON_ENTER" {% if request.form['label'] == 'ON_ENTER' %} selected="selected"{% endif %}>On enter the battlefield</option>
        <option value="DRAW_CARD" {% if request.form['label'] == 'DRAW_CARD' %} selected="selected"{% endif %}>Draw card</option>
        <option value="ON_DRAW_CARD" {% if request.form['label'] == 'ON_DRAW_CARD' %} selected="selected"{% endif %}>Whenever you draw card</option>
      </select> </div>
      <div>
        <h3>Color</h3>
        <div>
          <select name="colormode">
            <option value="any" {% if request.form['label'] == 'any' %} selected="selected"{% endif %}>Any of these colors</option>
            <option value="all" {% if request.form['label'] == 'all' %} selected="selected"{% endif %}>All of these colors</option>
          </select>
        </div>
        <div>Red: <input type="checkbox" name="color_R" {% if request.form['color_R'] == 'on' %} checked {% endif %}/></div>
        <div>Blue: <input type="checkbox" name="color_U" {% if request.form['color_U'] == 'on' %} checked {% endif %}/></div>
        <div>Green: <input type="checkbox" name="color_G" {% if request.form['color_G'] == 'on' %} checked {% endif %}/></div>
        <div>White: <input type="checkbox" name="color_W" {% if request.form['color_W'] == 'on' %} checked {% endif %}/></div>
        <div>Black: <input type="checkbox" name="color_B" {% if request.form['color_B'] == 'on' %} checked {% endif %}/></div>
        <div>Uncolored: <input type="checkbox" name="color_NULL" {% if request.form['color_NULL'] == 'on' %} checked {% endif %}/></div>
      </div>
      <button type="submit">Search</button>
    </form>

    <h3>{{rows.length}} Results:</h3>
    {% for row in rows %}
      <div>{{row['uuid']}}, {{row['name']}}, {{row['colors']}}, {{row['labels']}}</div>
    {% endfor%}
</body>
</html>

